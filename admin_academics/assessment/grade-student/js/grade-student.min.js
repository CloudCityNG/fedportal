!function(e){function t(o){if(r[o])return r[o].exports;var i=r[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var o=$("#current-semester-form-modal"),i=$("#current-semester-form-modal-body"),s=$("#student-course-query-form");$(".just-graded-courses-close").click(function(){s.show()}),function(){var e=JSON.parse($("#tenMostRecentSemesters-container").text());$("#semester").autocomplete(r(1).sessionSemesterAutoComplete(e,"label")),s.formValidation({fields:{"student-course-query[semester_id]":{excluded:!1,validators:{notEmpty:{message:"You may only pick from the drop down list"}}}}})}(),function(){function e(e){var r=e.data("existing-score");e.val(r),r&&(t(e),e.prop("disabled",!0).siblings(".course-score-view-only-trigger").hide().siblings(".course-score-edit-trigger").show())}function t(e){var t=e.val().trim();if(t){var o=r(t);if(o){var i=o[0],s=o[1];e.val(i),e.parent().next().text(s)}}}function r(e){if(e=Number(e),isNaN(e))return null;var t=_.find(l,function(t){var r=t[0],o=t[1];return e>=r&&o>=e});return e=e.toFixed(2),[e,t?t[2]:"F"]}function s(){var e,t,r,o,i=[];return a.each(function(){e=$(this),t=e.val().trim(),e.is(".already-graded")?(t=Number(t),r=Number(e.data("existing-score").trim()),o=t!==r,o&&i.push(e.closest("tr").clone())):t&&i.push(e.closest("tr").clone())}),i}function n(e){var t,r,o,i,s=$($("#scores-input-valid-form-template").html()),n=s.find("tbody");_.each(e,function(e,s){i=e.children(),i.first().text(s+1),r=i.filter(".fresh-score"),o=r.children(".course-score").attr("type","hidden"),o.siblings().remove(),r.append(o.val()),t=i.filter(".td-existing-score"),t.text(t.is(".already-graded-td")?t.children().val():""),n.append(e)});var a=s.children("table").clone(),c=e.length,l="course"+(c>1?"s":"");return a.children("caption").text(c+" "+l+' newly graded/updated for student registration number "'+d+'"'),s.find("#student-score-table-text").val(a.get(0).outerHTML),s}var a=$(".course-score"),c='<div class="modal-body-caption no-valid">\n  No score was inputted or updated. You may not submit form!\n</div>',d=$("#student-reg-number").text();$(".course-score-edit-trigger").click(function(){$(this).hide().siblings(".course-score").prop("disabled",!1).siblings(".course-score-view-only-trigger").show()}),$(".course-score-view-only-trigger").click(function(){var t=$(this).hide().siblings(".course-score").prop("disabled",!0);u.data("formValidation").resetField(t),e(t),t.siblings(".course-score-edit-trigger").show()});var l=JSON.parse($("#scoreGradeMapping-container").text()),u=$("#student-course-score-form").formValidation({row:{selector:"td"}});u.on("success.field.fv",".course-score",function(e,r){t(r.element)}),u.on("success.form.fv",function(e){e.preventDefault();var t=s();0===t.length?(i.html(""),i.html(c)):(i.html(""),i.append(n(t))),o.modal("show"),u.data("formValidation").resetForm()}),$("#student-course-score-form-reset-btn").click(function(){u.data("formValidation").resetForm(),a.each(function(){var t=$(this);t.is(".already-graded")?e(t):t.val("").parent().siblings(".grade").text("")})})}()},function(e,t){"use strict";function r(e,t){return{minLength:1,source:e,select:function(e,r){var o=$(this),i=$(o.data("related-input-id"));return i.val(r.item.id),1===e.originalEvent.which&&window.setTimeout(function(){o.val(r.item[t])}),window.setTimeout(function(){o.closest("form").formValidation("revalidateField",o),o.closest("form").formValidation("revalidateField",i)}),!1}}}e.exports={sessionSemesterAutoComplete:r}}]);
//# sourceMappingURL=grade-student.min.js.map