!function(e){function t(r){if(s[r])return s[r].exports;var a=s[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";var r=(new Date).getFullYear(),a=r-1,n={callback:function(e){var t=/^(\d{4})\/(\d{4})$/.exec(e);if(t){var s=parseInt(t[1]),r=parseInt(t[2]);if(r-s===1){var a=(new Date).getFullYear(),n=Math.abs(s-a),o=Math.abs(r-a);return 3>n&&3>o}}return!1},message:"Please match pattern e.g "+a+"/"+r};$(document.body).on({click:function(){var e=$(this),t=e.closest(".current-semester-panel").find("fieldset"),s=t.find(".form-control").not("#current-semester-session"),r=$(".current-semester-form-btn");t.closest(".current-semester-form").data("formValidation").resetForm(),e.is(".glyphicon-edit")?(s.each(function(){$(this).prop("disabled",!1)}),e.removeClass("glyphicon-edit").addClass("glyphicon-eye-open").attr("title","View only"),r.show()):(s.each(function(){$(this).prop("disabled",!0)}),e.removeClass("glyphicon-eye-open").addClass("glyphicon-edit").attr("title","Edit semester"),r.hide())}},".current-semester-edit-trigger");var o=JSON.parse($("#two-most-recent-sessions").text());$(".semester-session").autocomplete(s(1)(o,"session")),function(){var e=$(".current-semester-form").formValidation({fields:{"current_semester[session]":{validators:{callback:{callback:n.callback,message:n.message}}},"current_semester[session_id]":{excluded:!1,validators:{notEmpty:{message:"You may only pick from the drop down list"}}}}});e.on("err.field.fv","#current-semester-session",function(t){e.formValidation("revalidateField",$($(t.target).data("related-input-id")).val(""))})}(),function(){var e=$(".new-semester-form").formValidation({fields:{"new_semester[session]":{validators:{callback:{callback:n.callback,message:n.message}}},"new_semester[session_id]":{excluded:!1,validators:{notEmpty:{message:"You may only pick from the drop down list"}}}}});e.on("err.field.fv","#new-semester-session",function(t){e.formValidation("revalidateField",$($(t.target).data("related-input-id")).val(""))})}(),function(){var e,t,s=$(".current-semester-select-update-form").formValidation({fields:{"current_semester[session]":{validators:{callback:{callback:n.callback,message:n.message}}},"current_semester[session_id]":{excluded:!1,validators:{notEmpty:{message:"You may only pick from the drop down list"}}}}});$(document.body).on({click:function(){var r=$(this),a=JSON.parse(r.next().text());e=r.closest("tr"),t=e.css("background-color"),e.css("background-color","#DAC3DB").siblings().css("background-color",t),$("#current-semester-select-update-id").val(a.id),s.find("#number").val(String(a.number)),s.find("#start_date").val(moment(a.start_date.date).format("DD-MM-YYYY")),s.find("#end_date").val(moment(a.end_date.date).format("DD-MM-YYYY")),s.show()}},".current-semester-select-update-trigger"),$("#current-semester-select-update-clear-btn").click(function(){e.css("background-color",t),s.hide()})}()},function(e,t){"use strict";function s(e,t){return{minLength:1,source:e,select:function(e,s){var r=$(this),a=$(r.data("related-input-id"));return a.val(s.item.id),1===e.originalEvent.which&&window.setTimeout(function(){r.val(s.item[t])}),window.setTimeout(function(){r.closest("form").formValidation("revalidateField",r),r.closest("form").formValidation("revalidateField",a)}),!1}}}e.exports=s}]);
//# sourceMappingURL=semester.min.js.map
