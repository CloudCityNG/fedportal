!function(e){function i(a){if(o[a])return o[a].exports;var t=o[a]={exports:{},id:a,loaded:!1};return e[a].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var o={};return i.m=e,i.c=o,i.p="",i(0)}([function(e,i){$(function(){"use strict";function e(){if(l.size()){var e=!0,o=$("#submit-btn");p.each(function(){var o=$(this);if(!o.prop("disabled")){var a=o.val().trim();if(a){var t=i(o.prop("name")),n=c[t],r=o.closest(".input-group").find(".toggle-form-control-edit:visible");if("username"===t&&(a!==n?e=!1:r.click()),"first_name"===t||"last_name"===t){var l=a.toUpperCase();l!==n.toUpperCase()?(e=!1,o.val(l)):r.click()}}}});var a=s||[],t=r.find("option");t.size()!==a.length?e=!1:t.each(function(){_.contains(a,Number($(this).val()))||(e=!1)}),o.prop("disabled",e)}}function i(e){var i=new RegExp("\\[(\\w+)\\]$");return i.exec(e)[1]}function o(){var i={},o={};r.find("option").each(function(){var e=$(this);o[e.val()]=e.text()}),t.val(JSON.stringify(o)),n.find("option").each(function(){var e=$(this);i[e.val()]=e.text()}),a.val(JSON.stringify(i)),e()}var a=$("#capabilities-to-select-from"),t=$("#capabilities-selected"),n=$("#select-capabilities"),r=$("#selected-capabilities"),l=$("#staff-profile-data"),c=JSON.parse(l.val()||"{}"),p=$(".check-original-profile-data"),s=JSON.parse($("#capabilities-selected-original").val()||"null");!function(){$("#select-one-capability").click(function(){var e=n.find("option:selected");r.append(e.clone()),e.remove(),o()}),$("#deselect-one-capability").click(function(){var e=r.find("option:selected");n.append(e.clone()),e.remove(),o()}),$("#select-all-capabilities").click(function(){var e=n.find("option");r.append(e.clone()),e.remove(),o()}),$("#deselect-all-capabilities").click(function(){var e=r.find("option");n.append(e.clone()),e.remove(),o()})}(),$("#staff-profile-create-form").formValidation(),$(".toggle-form-control-edit").click(function(){var o=$(this);if(o.is(".glyphicon-pencil"))o.hide().next().show().closest(".input-group").children(".form-control").prop("disabled",!1);else{var a=o.closest(".input-group").children(".form-control").first().prop("disabled",!0),t=i(a.prop("name"));_.contains(["password","confirm_password"],t)?a.val(""):a.val(c[t]);var n=a.parents(".form-group").removeClass("has-success").removeClass("has-error");n.children(".form-control-feedback").hide(),n.children(".help-block").hide(),o.hide().prev().show(),e()}}),function(){var e=$(".capability-select-deselect"),i=$(".assign-capabilities-group option").clone();$(".toggle-capabilities-edit").click(function(){var l=$(this);l.is(".glyphicon-pencil")?(l.hide().next().show(),e.show(),n.prop("disabled",!1),r.prop("disabled",!1),a.prop("disabled",!1),t.prop("disabled",!1)):(l.hide().prev().show(),e.hide(),n.prop("disabled",!0),r.prop("disabled",!0),a.prop("disabled",!0),t.prop("disabled",!0),n.find("option").remove(),r.find("option").remove(),s?i.each(function(){var e=$(this).attr("selected",!1);_.contains(s,Number(e.val()))?r.append(e):n.append(e)}):n.append(i),o())})}(),p.blur(function(){e()})})}]);
//# sourceMappingURL=create-profile.min.js.map
