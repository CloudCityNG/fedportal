{"version":3,"sources":["student_portal/edu_history/js/edu-history.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","$form","$","formValidation","datepicker","format","on","evt","target","children","eq","prop","subjects","grades","autocomplete","source","$oLevel2","hide","find","each","this","click","$el","addHtml","deleteHtml","is","html","show"],"mappings":"CAAS,SAAUA,GAKT,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUE,OAGnC,IAAIC,GAASF,EAAiBD,IAC7BE,WACAE,GAAIJ,EACJK,QAAQ,EAUT,OANAP,GAAQE,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOE,QAAS,EAGTF,EAAOD,QAvBf,GAAID,KAqCJ,OATAF,GAAoBQ,EAAIT,EAGxBC,EAAoBS,EAAIP,EAGxBF,EAAoBU,EAAI,GAGjBV,EAAoB,KAK/B,SAASI,EAAQD,GAEtB,YAEA,IAAIQ,GAAQC,EAAE,QAAQC,gBAEtBD,GAAE,qBAAqBE,YACrBC,OAAQ,eAEPC,GAAG,aAAc,SAAUC,GAC1BN,EAAME,eACJ,kBACAD,EAAEK,EAAIC,QAAQC,SAAS,sBAAsBC,GAAG,GAAGC,KAAK,UAI9D,IAAIC,IACE,UACA,YACA,mBACA,cACA,sBACA,UACA,uBACA,WACA,YACA,8BACA,gBACA,SACA,kBACA,qBACA,UACA,YACA,wBACA,oBACA,QACA,gCACA,UACA,SACA,kBACA,mBACA,kBACA,cAEFC,GACE,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OAGN,WAEEX,EAAE,mCAAmCY,cACnCC,OAAQH,IAGVV,EAAE,iCAAiCY,cACjCC,OAAQF,OAIZ,WACE,GAAIG,GAAWd,EAAE,0BAEjBc,GACGC,OACAC,KAAK,SAASC,KAAK,WAClBjB,EAAEkB,MAAMT,KAAK,YAAY,KAG7BT,EAAE,wBAAwBmB,MAAM,WAE9B,GAAIC,GAAMpB,EAAEkB,MACRG,EAAU,+EACVC,EAAa,oEAEbR,GAASS,GAAG,aAEdH,EAAII,KAAKH,GAETP,EACGC,OACAC,KAAK,SAASC,KAAK,WAElBjB,EAAEkB,MAAMT,KAAK,YAAY,OAM7BW,EAAII,KAAKF,GAETR,EAASW,OAAOT,KAAK,SAASC,KAAK,WAEjCjB,EAAEkB,MAAMT,KAAK,YAAY","file":"student_portal/edu_history/js/edu-history.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tvar $form = $('form').formValidation();\n\n\t$('.show-date-picker').datepicker({\n\t  format: 'dd-mm-yyyy'\n\t})\n\t  .on('changeDate', function (evt) {\n\t    $form.formValidation(\n\t      'revalidateField',\n\t      $(evt.target).children('input.form-control').eq(0).prop('name')\n\t    );\n\t  });\n\n\tvar subjects = [\n\t      \"PHYSICS\",\n\t      \"CHEMISTRY\",\n\t      \"ENGLISH LANGUAGE\",\n\t      \"MATHEMATICS\",\n\t      \"FURTHER MATHEMATICS\",\n\t      \"BIOLOGY\",\n\t      \"AGRICULTURAL SCIENCE\",\n\t      \"COMMERCE\",\n\t      \"ECONOMICS\",\n\t      \"ISLAMIC RELIGIOUS KNOWLEDGE\",\n\t      \"IGBO LANGUAGE\",\n\t      \"FRENCH\",\n\t      \"YORUBA LANGUAGE\",\n\t      \"PHYSICAL EDUCATION\",\n\t      \"ACCOUNT\",\n\t      \"GEOGRAPHY\",\n\t      \"LITERATURE IN ENGLISH\",\n\t      \"YORUBA LITERATURE\",\n\t      \"HAUSA\",\n\t      \"CHRISTIAN RELIGIOUS KNOWLEDGE\",\n\t      \"HISTORY\",\n\t      \"ARABIC\",\n\t      \"IGBO LITERATURE\",\n\t      \"HEALTH EDUCATION\",\n\t      \"HOME MANAGEMENT\",\n\t      \"GOVERNMENT\"\n\t    ],\n\t    grades   = [\n\t      \"A1\",\n\t      \"B2\",\n\t      \"B3\",\n\t      \"C4\",\n\t      \"C5\",\n\t      \"C6\",\n\t      \"D7\",\n\t      \"E8\",\n\t      \"F9\"\n\t    ];\n\n\t(function subjectGradeAutoComplete() {\n\n\t  $('[name^=o_level_][name*=subject]').autocomplete({\n\t    source: subjects\n\t  });\n\n\t  $('[name^=o_level_][name*=grade]').autocomplete({\n\t    source: grades\n\t  });\n\t})();\n\n\t(function oLevelSitting2ShowHide() {\n\t  var $oLevel2 = $('.o-level-exams-scores-2');\n\n\t  $oLevel2\n\t    .hide()\n\t    .find('input').each(function () {\n\t      $(this).prop('disabled', true);\n\t    });\n\n\t  $('.add-another-o-level').click(function () {\n\n\t    var $el = $(this),\n\t        addHtml = '<span class=\"add-link text-info\"> Add another O level (if 2 sittings)</span>',\n\t        deleteHtml = '<span class=\"delete-icon text-warning\">  Remove 2nd sitting</span>';\n\n\t    if ($oLevel2.is(':visible')) {\n\n\t      $el.html(addHtml);\n\n\t      $oLevel2\n\t        .hide()\n\t        .find('input').each(function () {\n\n\t          $(this).prop('disabled', true);\n\n\t        });\n\n\t    } else {\n\n\t      $el.html(deleteHtml);\n\n\t      $oLevel2.show().find('input').each(function () {\n\n\t        $(this).prop('disabled', false);\n\n\t      });\n\t    }\n\t  });\n\t})();\n\n\tfunction oLevelSubjectGradeValidate() {\n\t  var $oLevelsContainer = $('.o-levels-field-set'),\n\t      $error = $('<div class=\"has-subject-grade-error help-block\"></div>'),\n\t      containerError = 'eVarsity.subject.grade.error',\n\t      subjectGradeContainer = '.subject-grade',\n\t      $containers = $(subjectGradeContainer),\n\t      globalErrorMsgClass = 'global-subjects-grades-error ',\n\t      formSubmitPrevented = 'easyVarsity.form.submit.prevented';\n\n\t  function toggleDisplayError($el, $counterPart, $container) {\n\n\t    var className1 = makeClassFromName($el.prop('name')),\n\t        className2 = makeClassFromName($counterPart.prop('name')),\n\t        $displayedError = $('.' + className1 + '.' + className2);\n\n\t    if ($container.hasClass('has-error')) {\n\n\t      if (!$displayedError.size()) {\n\t        $container.after(\n\t          $error\n\t            .clone()\n\t            .addClass(className1)\n\t            .addClass(className2)\n\t            .text('Invalid subject or grade! You may only pick from drop down.')\n\t        );\n\t      }\n\n\t    }\n\n\t    else {\n\t      $displayedError.remove();\n\t    }\n\n\t  }\n\n\t  $oLevelsContainer.on({\n\t    'blur input': function () {\n\t      var $el = $(this),\n\t          $container = $el.closest(subjectGradeContainer),\n\t          counterPartFlag = getCounterFlag($el),\n\t          $counterPart = getCounterPart($el, counterPartFlag);\n\n\t      removeGlobalError();\n\n\t      if ($.trim($el.val()) === '' && $.trim($counterPart.val()) === '') {\n\n\t        $container.removeClass('has-error').removeClass('has-success');\n\n\t        $container.data(containerError, false);\n\n\t      }\n\n\t      else if (valueIsValid($el) && valueIsValid($counterPart)) {\n\n\t        $container.removeClass('has-error').addClass('has-success');\n\n\t        $container.data(containerError, false);\n\t      }\n\n\t      else {\n\t        $container.removeClass('has-success').addClass('has-error');\n\t        $container.data(containerError, true);\n\t      }\n\n\t      toggleDisplayError($el, $counterPart, $container);\n\n\t    },\n\n\t    'autocompleteselect': function (evt) {\n\t      var $target = $(evt.currentTarget),\n\t          $counter = getCounterPart($target, getCounterFlag($target)),\n\t          $container = $target.closest(subjectGradeContainer);\n\n\t      if (!valueIsValid($counter)) {\n\t        $container.removeClass('has-success').addClass('has-error');\n\n\t        $container.data(containerError, true);\n\n\t      }\n\n\t      else {\n\t        $container.removeClass('has-error').addClass('has-success');\n\n\t        $container.data(containerError, false);\n\t      }\n\n\t      toggleDisplayError($target, $counter, $container);\n\n\t    }\n\n\t  }, '.subject-grade input');\n\n\n\t  $form.on('submit.eVarsity', function (evt) {\n\t    toggleDisableBtn();\n\n\t    if ($form.data(formSubmitPrevented)) {\n\t      evt.preventDefault();\n\n\t      var $slicedContainers = $containers.slice(0, 5);\n\n\t      $slicedContainers.not('.has-success').addClass('has-error');\n\n\t      if (!$('.' + globalErrorMsgClass).size()) {\n\n\t        var $globalError =\n\t              $error\n\t                .clone()\n\t                .addClass(globalErrorMsgClass)\n\t                .text('You did not enter at least 5 subjects or some inputs are invalid!');\n\n\t        var $last = $slicedContainers.last(),\n\t            $nextSubjectGradeError = $last.next('.has-subject-grade-error').not('.' + globalErrorMsgClass);\n\n\t        ($nextSubjectGradeError.size() ? $nextSubjectGradeError : $last).after($globalError);\n\t      }\n\t    }\n\n\t  });\n\n\t  function toggleDisableBtn() {\n\t    var preventSubmit = $('.subject-grade.has-success:visible').size() < 5 ||\n\t                        $containers.filter('.has-error').size() > 0;\n\n\t    $form.data(formSubmitPrevented, preventSubmit);\n\t  }\n\n\t  function getCounterPart($el, flag) {\n\t    return $el\n\t      .closest(subjectGradeContainer)\n\t      .find('input[name*=' + flag + ']');\n\t  }\n\n\t  function valueIsValid($el) {\n\t    var name = $el.prop('name');\n\t    return (name.indexOf('subject') !== -1 ? subjects : grades ).indexOf($.trim($el.val())) !== -1;\n\t  }\n\n\t  /*\n\t   given name of an input element, return a string\n\t   that can be used as class name in a DOM element\n\t   */\n\t  function makeClassFromName(name) {\n\t    return name.replace('[', '').replace(']', '');\n\t  }\n\n\t  function removeGlobalError() {\n\t    if ($form.data(formSubmitPrevented)) {\n\t      $('.' + globalErrorMsgClass).remove();\n\n\t      $form.data(formSubmitPrevented, false);\n\n\t      $containers\n\t        .slice(0, 5)\n\t        .each(function () {\n\t          var $el = $(this);\n\n\t          if (!$el.data(containerError)) {\n\t            $el.removeClass('has-error');\n\t          }\n\t        });\n\t    }\n\t  }\n\n\t  function getCounterFlag($el) {\n\t    return $el.prop('name').indexOf('subject') !== -1 ? 'grade' : 'subject';\n\t  }\n\n\t  toggleDisableBtn();\n\n\t}\n\n\t//oLevelSubjectGradeValidate();\n\n\n/***/ }\n/******/ ]);"],"sourceRoot":"/source/"}