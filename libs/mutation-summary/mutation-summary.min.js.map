{"version":3,"file":"mutation-summary.min.js","sources":["mutation-summary.js"],"names":["enteredOrExited","changeType","escapeQuotes","value","replace","validateAttribute","attribute","Error","trim","match","attributeFilterPattern","validateElementAttributes","attribs","length","lowerAttributes","attributes","tokens","split","i","name","nameLower","toLowerCase","Object","keys","elementFilterAttributes","selectors","forEach","selector","qualifiers","qualifier","attrName","__extends","this","d","b","__","constructor","p","hasOwnProperty","prototype","MutationObserverCtor","WebKitMutationObserver","MutationObserver","undefined","console","error","NodeMap","nodes","values","isIndex","s","nodeId","node","id","ID_PROP","nextId_","set","get","has","push","Movement","NodeChange","childList","characterData","oldParentNode","added","attributeOldValues","characterDataOldValue","isCaseInsensitive","nodeType","Node","ELEMENT_NODE","HTMLElement","ownerDocument","HTMLDocument","getAttributeOldValue","getAttributeNamesMutated","names","attributeMutated","oldValue","characterDataMutated","removedFromParent","parent","insertedIntoParent","getOldParent","parentNode","ChildListChange","removed","maybeMoved","oldPrevious","moved","TreeChanges","_super","rootNode","mutations","call","reachableCache","wasReachableCache","anyParentsChanged","anyAttributesChanged","anyCharacterDataChanged","m","mutation","type","removedNodes","getChange","target","addedNodes","change","attributeName","getIsReachable","isReachable","getWasReachable","wasReachable","reachabilityChange","MutationProjection","calcReordered","calcOldPreviousSibling","treeChanges","entered","exited","stayedIn","visited","childListChangeMap","characterDataOnly","matchCache","processMutations","changedNodes","visitNode","parentReachable","reachable","matchabilityChange","ensureHasOldPreviousSiblingIfNeeded","movement","wasReordered","child","firstChild","nextSibling","processChildlistChanges","nodeChange","previousSibling","getChanged","summary","matchable","stayedInNodes","reparented","reordered","getOldParentNode","getOldPreviousSibling","getOldAttribute","element","attributeChangedNodes","includeAttributes","attributeFilter","caseInsensitiveFilter","result","changedAttrNames","j","getAttribute","getOldCharacterData","getCharacterDataChanged","textContent","computeMatchabilityChange","el","uid","cache","_this","COMMENT_NODE","TEXT_NODE","matchChanges","map","accum","getChildlistChange","recordOldPrevious","previous","isMoved","didMove","pendingMoveDecision","getPrevious","getOldPrevious","oldPreviousCache","previousCache","Summary","projection","query","all","elementFilter","attributeList","filter","attributeChanged","valueChanged","characterDataChanged","bind","validNameInitialChar","validNameNonInitialChar","Qualifier","matches","attrValue","contains","toString","Selector","nextUid","defineProperty","tagName","toUpperCase","enumerable","configurable","join","isMatching","matchesSelector","selectorString","wasMatching","caseInsensitiveTagName","anyChanged","parseSelectors","input","newSelector","currentSelector","currentQualifier","newQualifier","valueQuoteChar","WHITESPACE","SYNTAX_ERROR","SELECTOR","TAG_NAME","QUALIFIER","QUALIFIER_NAME_FIRST_CHAR","QUALIFIER_NAME","ATTR_NAME_FIRST_CHAR","ATTR_NAME","EQUIV_OR_ATTR_QUAL_END","EQUAL","ATTR_QUAL_END","VALUE_FIRST_CHAR","VALUE","QUOTED_VALUE","SELECTOR_SEPARATOR","state","c","document","createElement","MutationSummary","opts","connected","options","validateOptions","observerOptions","createObserverOptions","queries","root","callback","Array","concat","apply","some","queryValidators","createQueryValidator","observer","observerCallback","reconnect","observeAttributes","attributeOldValue","subtree","prop","optionKeys","observeOwnChanges","oldPreviousSibling","request","requestOptionCount","elementAttributes","createSummaries","summaries","checkpointQueryValidators","validator","recordPreviousState","runQueryValidators","index","validate","changesToReport","summaryProps","attrNames","attrsChanged","disconnect","observe","takeSummaries","takeRecords","parseElementFilter"],"mappings":"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"}